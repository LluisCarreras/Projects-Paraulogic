<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Words</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
        }
        h1 {
            text-align: center;
        }
        ol {
            display: grid;
            grid-template-columns: repeat(5, 1fr); /* Create 5 columns */
            gap: 10px; /* Space between items */
            padding: 0;
            list-style-position: inside;
            margin: 0;
        }
        ol li {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h1>Solució del Paraulògic</h1>
    <br>
    <h3>En aquesta pàgina es mostra la solució del <a href="https://www.vilaweb.cat/paraulogic/">Paraulògic</a> del dia actual. Aquesta solució pot no ser completa, és a dir, 
        hi poden faltar algunes paraules, però sí que conté totes les paraules que es poden trobar amb l'algoritme que s'ha fet servir per la resolució del Paraulògic. Segons les instruccions 
        del Paraulògic, només s'accepten les paraules que figuren al Diccionari de la llengua catalana de l'Institut d'Estudis Catalans (DIEC), i és precisament la dificultat en 
        aconseguir la totalitat de paraules d'aquest diccionari el que fa que pot ser la solució no contingui totes les paraules.</h3>
    <br><br>
    <ol id="wordList"></ol>

    <script>
        // Function to get today's date in the format YYYY_MM_DD
        function getTodayFormatted() {
            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are 0-based
            const day = String(today.getDate()).padStart(2, '0');
            return `${year}_${month}_${day}`;
        }

        async function fetchWords() {
            try {
                // Generate the dynamic file name
                const todayDate = getTodayFormatted();
                const fileName = `solutions/solution_${todayDate}.txt`; // Adjust the path if necessary

                // Fetch the file
                const response = await fetch(fileName);
                if (!response.ok) {
                    throw new Error(`Failed to fetch the file: ${fileName}`);
                }
                const text = await response.text();
                const words = text.split('\n').filter(word => word.trim() !== ''); // Split into lines and remove empty lines
                
                // Update the list on the page
                const wordList = document.getElementById('wordList');
                wordList.innerHTML = '';
                words.forEach((word, index) => {
                    const li = document.createElement('li');
                    li.textContent = word; // Add the word to the list
                    wordList.appendChild(li);
                });
            } catch (error) {
                console.error('Error fetching words:', error);
                const wordList = document.getElementById('wordList');
                wordList.innerHTML = '<li>Error loading words. Please try again later.</li>';
            }
        }

        // Fetch words when the page loads
        fetchWords();
    </script>
</body>
</html>
